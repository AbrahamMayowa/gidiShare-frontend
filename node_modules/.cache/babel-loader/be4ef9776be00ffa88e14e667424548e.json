{"ast":null,"code":"var _jsxFileName = \"/home/mayor/gidiShare2/frontend/src/components/ImageCard.js\";\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport '../styles/imageCard.css';\nimport moment from 'moment';\n\nconst ImageCard = props => {\n  const authError = useSelector(store => store.images.error);\n  console.log(authError);\n  co; // if(authError === 'You are not authorized'){\n  //  this.props.handleLogin()\n  //}\n\n  const image = props.image;\n  const userId = props.userId;\n  const createdTime = new Date().toDateString(image.createdAt);\n  const momentTime = moment(createdTime).fromNow();\n  let thumpUpUser = null;\n  let thumpDownUser = null; // check if user is authenticated to know if the user had thumped the image\n\n  if (userId) {\n    // only thumped up image is looped\n    if (image.thumpup.thumpUpCount > 0) {\n      thumpUpUser = image.thumpup.userActionThumpUp.find(id => id === userId);\n    }\n\n    if (image.thumpdown.thumpDownCount > 0) {\n      thumpDownUser = image.thumpdown.userActionThumpDown.find(id => id === userId);\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"card-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"creator\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"creator-image-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: `http://localhost:5000/static/${image.creator.imageUrl}`,\n    alt: \"creator\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, image.creator.username)), React.createElement(\"section\", {\n    className: \"image-url\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: `http://localhost:5000/static/${image.imageUrl}`,\n    alt: \"share\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), React.createElement(\"section\", {\n    className: \"data-description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"thump\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"far fa-thumbs-up thumpup-icon \" + (thumpUpUser ? 'thumped' : null),\n    onClick: () => props.handleThumpUp(image.imageId),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: 'thump-count ' + (thumpUpUser ? 'thumped' : null),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, image.thumpUp.thumpUpCount), React.createElement(\"i\", {\n    class: \"far fa-thumbs-down thumpdown-icon \" + (thumpUpUser ? 'thumped' : null),\n    onClick: () => props.handleThumpDown(image.imageId),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: 'thump-count ' + (thumpDownUser ? 'thumped' : null),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, image.thumpDown.thumpDownCount)), React.createElement(\"div\", {\n    className: \"description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, image.description), React.createElement(\"div\", {\n    className: \"time-category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"moment-time\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, momentTime), React.createElement(\"div\", {\n    className: \"category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, image.category))));\n};\n\nexport default ImageCard;","map":{"version":3,"sources":["/home/mayor/gidiShare2/frontend/src/components/ImageCard.js"],"names":["React","useEffect","useSelector","moment","ImageCard","props","authError","store","images","error","console","log","co","image","userId","createdTime","Date","toDateString","createdAt","momentTime","fromNow","thumpUpUser","thumpDownUser","thumpup","thumpUpCount","userActionThumpUp","find","id","thumpdown","thumpDownCount","userActionThumpDown","creator","imageUrl","username","handleThumpUp","imageId","thumpUp","handleThumpDown","thumpDown","description","category"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport {useSelector} from 'react-redux'\nimport '../styles/imageCard.css'\nimport moment from 'moment'\n\n\nconst ImageCard = (props) =>{\n\n    const authError = useSelector(store => store.images.error)\n    console.log(authError)\n    co\n       // if(authError === 'You are not authorized'){\n          //  this.props.handleLogin()\n        //}\n    \n    const image = props.image\n    const userId = props.userId\n    const createdTime = new Date().toDateString(image.createdAt)\n    const momentTime = moment(createdTime).fromNow()\n    let thumpUpUser = null\n    let thumpDownUser = null\n\n    // check if user is authenticated to know if the user had thumped the image\n    if(userId){\n        // only thumped up image is looped\n        if(image.thumpup.thumpUpCount > 0){\n            thumpUpUser = image.thumpup.userActionThumpUp.find(id => id === userId)\n        }\n\n        if(image.thumpdown.thumpDownCount > 0){\n            thumpDownUser = image.thumpdown.userActionThumpDown.find(id => id === userId)\n        }\n    }\n\n\n    return(\n            <div className='card-wrapper'>\n                 <section className='creator'>\n                    <div className='creator-image-wrapper'>\n                        <img src={`http://localhost:5000/static/${image.creator.imageUrl}`} alt='creator'/> \n                    </div>\n                    <div className='username'>{image.creator.username}</div>\n                </section>\n                    \n                <section className='image-url'>\n                    <img src={`http://localhost:5000/static/${image.imageUrl}`} alt=\"share\"/>\n                </section>\n\n                <section className='data-description'>\n                    <div className='thump'>\n                        <i className={\"far fa-thumbs-up thumpup-icon \" + (thumpUpUser ? 'thumped' : null)} \n                        onClick={() => props.handleThumpUp(image.imageId)}></i>\n\n\n                        <div className={'thump-count ' + (thumpUpUser ? 'thumped' : null)}>\n                            {image.thumpUp.thumpUpCount}\n                        </div>\n\n                        <i class={\"far fa-thumbs-down thumpdown-icon \" + (thumpUpUser ? 'thumped' : null)}\n                        onClick={() => props.handleThumpDown(image.imageId)}></i>\n                        <div className={'thump-count ' + (thumpDownUser ? 'thumped' : null)}>\n                        {image.thumpDown.thumpDownCount}\n                        </div>\n\n                    </div>\n\n                    <div className='description'>\n                        {image.description}\n                    </div>\n                \n                    \n                    <div className='time-category'>\n                        <div className='moment-time'>{momentTime}</div>\n                        <div className='category'>{image.category}</div>\n                    </div>\n                </section>\n            </div>\n        )\n}\n\nexport default ImageCard"]},"metadata":{},"sourceType":"module"}