{"ast":null,"code":"var _jsxFileName = \"/home/mayor/gidiShare2/frontend/src/screen/ImageList.js\";\nimport React from 'react';\nimport ImageCard from '../components/ImageCard';\nimport Header from '../components/HeaderSection';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Loading from '../components/Loading';\nimport NoItem from '../components/NoItem';\nimport imageListThunk from '../redux/action/imageListActionThunk';\nimport thumpThunk from '../redux/action/thumpThunk';\nimport '../styles/imageList.css';\n\nclass Images extends React.Component {\n  constructor(props) {\n    super(props);\n    this.token = this.props.auth.token;\n  }\n\n  componentDidMount() {\n    console.log(this.props.r);\n    const authError = this.props.images.error;\n    this.props.dispatch(imageListThunk());\n\n    if (authError === 'You are not authorized') {\n      this.props.route.handleLogin();\n    }\n  }\n\n  handleThumpUp(imageId) {\n    if (!this.token) {\n      this.props.route.handleLogin();\n    } else {\n      this.props.dispatch(thumpThunk(imageId, this.token));\n    }\n  }\n\n  handleThumpDown(imageId, token = this.props.auth.token) {\n    if (!token) {\n      this.props.route.handleLogin();\n    } else {\n      this.props.dispatch(thumpThunk(imageId, token, false));\n    }\n  }\n\n  render() {\n    const _this$props$images = this.props.images,\n          images = _this$props$images.images,\n          loading = _this$props$images.loading;\n    const imageUrl = this.props.auth.imageUrl;\n    let noImageOrImageCard = React.createElement(NoItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    });\n\n    if (images.length > 0) {\n      noImageOrImageCard = images.map(image => React.createElement(ImageCard, {\n        image: image,\n        handleThumpUp: () => this.handleThumpUp,\n        handleThumpDown: this.handleThumpDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"card-session\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), loading ? React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })) : noImageOrImageCard));\n  }\n\n}\n\nconst mapState = state => {\n  return {\n    auth: state.auth,\n    images: state.images\n  };\n};\n\nexport default withRouter(connect(mapState)(Images));","map":{"version":3,"sources":["/home/mayor/gidiShare2/frontend/src/screen/ImageList.js"],"names":["React","ImageCard","Header","connect","withRouter","Loading","NoItem","imageListThunk","thumpThunk","Images","Component","constructor","props","token","auth","componentDidMount","console","log","r","authError","images","error","dispatch","route","handleLogin","handleThumpUp","imageId","handleThumpDown","render","loading","imageUrl","noImageOrImageCard","length","map","image","mapState","state"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ImageCard from '../components/ImageCard'\nimport Header from '../components/HeaderSection'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router-dom'\nimport Loading from '../components/Loading'\nimport NoItem from '../components/NoItem'\nimport imageListThunk from '../redux/action/imageListActionThunk'\nimport thumpThunk from '../redux/action/thumpThunk'\nimport '../styles/imageList.css'\n\n\n\nclass Images extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.token = this.props.auth.token\n    }\n\n\n    componentDidMount(){\n        console.log(this.props.r)\n\n        const authError = this.props.images.error\n        this.props.dispatch(imageListThunk())\n\n        if(authError === 'You are not authorized'){\n            this.props.route.handleLogin()\n        }\n    }\n\n\n    handleThumpUp(imageId){\n        if(!this.token){\n            this.props.route.handleLogin()\n        }else{\n            this.props.dispatch(thumpThunk(imageId, this.token))\n        }\n    }\n\n\n\n    handleThumpDown(imageId, token=this.props.auth.token){\n        if(!token){\n            this.props.route.handleLogin()\n        }else{\n            this.props.dispatch(thumpThunk(imageId, token, false))\n        }\n\n    }\n\n    render(){\n        const {images, loading} = this.props.images\n        const {imageUrl} = this.props.auth\n\n        let noImageOrImageCard = <NoItem />\n\n        if(images.length > 0){\n            noImageOrImageCard = images.map(image => <ImageCard image={image} handleThumpUp={() => this.handleThumpUp} handleThumpDown={this.handleThumpDown}/>)\n        }\n\n        return (\n        <div>\n            <section className='card-session'>\n                <Header />\n                {loading ? <div className='loading'><Loading /></div> : noImageOrImageCard}\n            </section>\n            </div>\n\n        )\n    }\n\n}\n\nconst mapState = (state) => {\n    return {\n        auth: state.auth,\n        images: state.images\n\n    }\n}\n\nexport default withRouter(connect(mapState)(Images))"]},"metadata":{},"sourceType":"module"}