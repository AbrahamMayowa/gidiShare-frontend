{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector}from'react-redux';import'../styles/imageCard.css';import moment from'moment';var ImageCard=function ImageCard(props){var authError=useSelector(function(store){return store.images.error;});var userId=useSelector(function(store){return store.auth.userId;});useEffect(function(){if(authError==='You are not authorized'){props.handleLogin();}},[authError]);var image=props.image;var createdTime=new Date(parseInt(image.createdAt)).toJSON();var momentTime=moment(createdTime).fromNow();var thumpUpUser=null;var thumpDownUser=null;// check if user is authenticated to know if the user had thumped the image\nif(userId&&image){thumpUpUser=!!image.thumpUp.userActionThumpUp.find(function(id){return id._id===userId;});}if(image.thumpDown.userActionThumpDown){thumpDownUser=!!image.thumpDown.userActionThumpDown.find(function(id){return id._id===userId;});}return React.createElement(\"div\",{key:image.imageId,className:'card-wrapper '+(props.isDetailsCard&&'details_card'),onClick:function onClick(){if(props.detailsRedirect){props.detailsRedirect(image.imageId);}}},React.createElement(\"section\",{className:\"creator\"},React.createElement(\"div\",{className:\"creator-image-wrapper\"},React.createElement(\"img\",{src:image.creator.imageUrl,alt:\"creator\"})),React.createElement(\"div\",{className:\"username\"},image.creator.username)),React.createElement(\"section\",{className:\"image-url\"},React.createElement(\"img\",{src:image.imageUrl,alt:\"share\"})),React.createElement(\"section\",{className:\"data-description\"},React.createElement(\"div\",{className:\"thump\"},React.createElement(\"div\",{className:\"thump\",onClick:function onClick(e){e.stopPropagation();props.handleThumpUp(image.imageId);}},React.createElement(\"i\",{className:\"far fa-thumbs-up thumpup-icon \"+(thumpUpUser?'thumped':'')}),React.createElement(\"div\",{className:\"thump-count \"},image.thumpUp.thumpUpCount)),React.createElement(\"div\",{className:\"thump\",onClick:function onClick(e){e.stopPropagation();props.handleThumpDown(image.imageId);}},React.createElement(\"i\",{class:\"far fa-thumbs-down thumpdown-icon \"+(thumpDownUser?'thumped':'')}),React.createElement(\"div\",{className:\"thump-count \"},image.thumpDown.thumpDownCount))),React.createElement(\"div\",{className:\"description\"},image.description)),React.createElement(\"div\",{className:\"time-category\"},React.createElement(\"div\",{className:\"moment-time\"},momentTime),React.createElement(\"div\",{className:\"category\"},image.category)));};export default ImageCard;","map":{"version":3,"sources":["/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/src/components/ImageCard.js"],"names":["React","useEffect","useSelector","moment","ImageCard","props","authError","store","images","error","userId","auth","handleLogin","image","createdTime","Date","parseInt","createdAt","toJSON","momentTime","fromNow","thumpUpUser","thumpDownUser","thumpUp","userActionThumpUp","find","id","_id","thumpDown","userActionThumpDown","imageId","isDetailsCard","detailsRedirect","creator","imageUrl","username","e","stopPropagation","handleThumpUp","thumpUpCount","handleThumpDown","thumpDownCount","description","category"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport {useSelector} from 'react-redux'\nimport '../styles/imageCard.css'\nimport moment from 'moment'\n\n\nconst ImageCard = (props) =>{\n    const authError = useSelector(store => store.images.error) \n    const userId = useSelector(store => store.auth.userId)\n    useEffect(()=>{\n        if(authError === 'You are not authorized'){\n            props.handleLogin()\n        }\n    }, [authError])\n    \n    const image = props.image\n    const createdTime = new Date(parseInt(image.createdAt)).toJSON()\n    const momentTime = moment(createdTime).fromNow()\n    let thumpUpUser = null\n    let thumpDownUser = null\n\n\n        // check if user is authenticated to know if the user had thumped the image\n        if(userId && image){\n                thumpUpUser = !!image.thumpUp.userActionThumpUp.find(id => id._id === userId)\n            }\n            \n            if(image.thumpDown.userActionThumpDown){\n                thumpDownUser = !!image.thumpDown.userActionThumpDown.find(id => id._id === userId)\n            }\n\n    return(\n            <div key={image.imageId} className={'card-wrapper ' + (props.isDetailsCard && 'details_card' )} onClick={() => {\n                if(props.detailsRedirect){\n                    props.detailsRedirect(image.imageId)\n                }\n                    \n            }\n            }\n            >\n\n                 <section className='creator'>\n                    <div className='creator-image-wrapper'>\n                        <img src={image.creator.imageUrl} alt='creator'/> \n                    </div>\n                    <div className='username'>{image.creator.username}</div>\n                </section>\n                    \n                <section className='image-url'>\n                    <img src={image.imageUrl} alt=\"share\"/>\n                </section>\n\n                <section className='data-description'>\n                    <div className='thump'>\n                        <div className=\"thump\" onClick={(e) =>{\n                            e.stopPropagation()\n                            props.handleThumpUp(image.imageId)\n                        }}>\n\n                        <i className={\"far fa-thumbs-up thumpup-icon \" + (thumpUpUser ? 'thumped' : '')}></i>\n                        <div className='thump-count '>\n                            {image.thumpUp.thumpUpCount}\n                        </div>\n\n\n                        </div>\n                        <div className='thump' onClick={(e)=>{\n                            e.stopPropagation()\n                            props.handleThumpDown(image.imageId)\n                        }}>\n                        <i class={\"far fa-thumbs-down thumpdown-icon \" + (thumpDownUser ? 'thumped' : '')}></i>\n                        <div className='thump-count '>\n                        {image.thumpDown.thumpDownCount}\n                        </div>\n                        </div>\n\n                    </div>\n\n                    <div className='description'>\n                        {image.description}\n                    </div>\n                \n                </section>\n                <div className='time-category'>\n                        <div className='moment-time'>{momentTime}</div>\n                        <div className='category'>{image.category}</div>\n                </div>\n            </div>\n        )\n}\n\nexport default ImageCard"]},"metadata":{},"sourceType":"module"}