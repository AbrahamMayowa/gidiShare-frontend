{"ast":null,"code":"import _toConsumableArray from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{START_FETCH_LIST,FAIL_FETCH_LIST,SUCCESS_FETCH_LIST}from'../action/imageListAction';import{THUMP_DOWN,THUMP_UP,THUMP_BEGIN}from'../action/thumpAction';var initialState={loading:false,images:[],error:''};var imagesReducer=function imagesReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case THUMP_BEGIN:return _objectSpread({},state,{loading:true});case THUMP_UP:var updateImages=_toConsumableArray(state.images);var imageIndex=updateImages.findIndex(function(p){return p.imageId.toString()===action.payload.data.thumpUpMutation.imageId.toString();});if(imageIndex>-1){updateImages[imageIndex].thumpUp=action.payload.data.thumpUpMutation.thumpUp;updateImages[imageIndex].thumpDown=action.payload.data.thumpUpMutation.thumpDown;}return _objectSpread({},state,{images:updateImages,loading:false});case THUMP_DOWN:var updateImagesDown=_toConsumableArray(state.images);var imageDownIndex=updateImagesDown.findIndex(function(p){return p.imageId.toString()===action.payload.data.thumpDownMutation.imageId.toString();});if(imageDownIndex>-1){updateImagesDown[imageDownIndex].thumpUp=action.payload.data.thumpDownMutation.thumpUp;updateImagesDown[imageDownIndex].thumpDown=action.payload.data.thumpDownMutation.thumpDown;}return _objectSpread({},state,{images:updateImagesDown,loading:false});case START_FETCH_LIST:return _objectSpread({},state,{loading:true});case SUCCESS_FETCH_LIST:return _objectSpread({},state,{loading:false,images:action.payload.images.data.imageList});case FAIL_FETCH_LIST:return _objectSpread({},state,{loading:false,error:action.payload.error.message});default:return state;}};export default imagesReducer;","map":{"version":3,"sources":["/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/src/redux/reducer/images.js"],"names":["START_FETCH_LIST","FAIL_FETCH_LIST","SUCCESS_FETCH_LIST","THUMP_DOWN","THUMP_UP","THUMP_BEGIN","initialState","loading","images","error","imagesReducer","state","action","type","updateImages","imageIndex","findIndex","p","imageId","toString","payload","data","thumpUpMutation","thumpUp","thumpDown","updateImagesDown","imageDownIndex","thumpDownMutation","imageList","message"],"mappings":"uSAAA,OAAQA,gBAAR,CAA0BC,eAA1B,CAA2CC,kBAA3C,KAAoE,2BAApE,CACA,OAAQC,UAAR,CAAoBC,QAApB,CAA8BC,WAA9B,KAAgD,uBAAhD,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,OAAO,CAAE,KADQ,CAEjBC,MAAM,CAAE,EAFS,CAGjBC,KAAK,CAAE,EAHU,CAArB,CAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAgC,IAA/BC,CAAAA,KAA+B,2DAAzBL,YAAyB,IAAXM,CAAAA,MAAW,2CAClD,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKR,CAAAA,WAAL,CACI,wBACOM,KADP,EAEIJ,OAAO,CAAE,IAFb,GAKJ,IAAKH,CAAAA,QAAL,CACI,GAAMU,CAAAA,YAAY,oBAAOH,KAAK,CAACH,MAAb,CAAlB,CACA,GAAMO,CAAAA,UAAU,CAAGD,YAAY,CAACE,SAAb,CAAuB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,OAAF,CAAUC,QAAV,KAAyBP,MAAM,CAACQ,OAAP,CAAeC,IAAf,CAAoBC,eAApB,CAAoCJ,OAApC,CAA4CC,QAA5C,EAA7B,EAAxB,CAAnB,CACA,GAAGJ,UAAU,CAAG,CAAC,CAAjB,CAAmB,CACfD,YAAY,CAACC,UAAD,CAAZ,CAAyBQ,OAAzB,CAAmCX,MAAM,CAACQ,OAAP,CAAeC,IAAf,CAAoBC,eAApB,CAAoCC,OAAvE,CACAT,YAAY,CAACC,UAAD,CAAZ,CAAyBS,SAAzB,CAAqCZ,MAAM,CAACQ,OAAP,CAAeC,IAAf,CAAoBC,eAApB,CAAoCE,SAAzE,CACH,CACD,wBACOb,KADP,EAEIH,MAAM,CAAEM,YAFZ,CAGIP,OAAO,CAAE,KAHb,GAOJ,IAAKJ,CAAAA,UAAL,CACI,GAAMsB,CAAAA,gBAAgB,oBAAOd,KAAK,CAACH,MAAb,CAAtB,CACA,GAAMkB,CAAAA,cAAc,CAAGD,gBAAgB,CAACT,SAAjB,CAA2B,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,OAAF,CAAUC,QAAV,KAAyBP,MAAM,CAACQ,OAAP,CAAeC,IAAf,CAAoBM,iBAApB,CAAsCT,OAAtC,CAA8CC,QAA9C,EAA7B,EAA5B,CAAvB,CACA,GAAGO,cAAc,CAAG,CAAC,CAArB,CAAuB,CACnBD,gBAAgB,CAACC,cAAD,CAAhB,CAAiCH,OAAjC,CAA2CX,MAAM,CAACQ,OAAP,CAAeC,IAAf,CAAoBM,iBAApB,CAAsCJ,OAAjF,CACAE,gBAAgB,CAACC,cAAD,CAAhB,CAAiCF,SAAjC,CAA6CZ,MAAM,CAACQ,OAAP,CAAeC,IAAf,CAAoBM,iBAApB,CAAsCH,SAAnF,CACH,CACD,wBACOb,KADP,EAEIH,MAAM,CAAEiB,gBAFZ,CAGIlB,OAAO,CAAE,KAHb,GAQJ,IAAKP,CAAAA,gBAAL,CACI,wBACOW,KADP,EAEIJ,OAAO,CAAE,IAFb,GAIJ,IAAKL,CAAAA,kBAAL,CACI,wBACOS,KADP,EAEIJ,OAAO,CAAE,KAFb,CAGIC,MAAM,CAAEI,MAAM,CAACQ,OAAP,CAAeZ,MAAf,CAAsBa,IAAtB,CAA2BO,SAHvC,GAKJ,IAAK3B,CAAAA,eAAL,CACI,wBACOU,KADP,EAEIJ,OAAO,CAAE,KAFb,CAGIE,KAAK,CAAEG,MAAM,CAACQ,OAAP,CAAeX,KAAf,CAAqBoB,OAHhC,GAKJ,QACI,MAAOlB,CAAAA,KAAP,CAtDR,CAyDH,CA1DD,CA4DA,cAAeD,CAAAA,aAAf","sourcesContent":["import {START_FETCH_LIST, FAIL_FETCH_LIST, SUCCESS_FETCH_LIST} from '../action/imageListAction'\nimport {THUMP_DOWN, THUMP_UP, THUMP_BEGIN} from '../action/thumpAction'\n\nconst initialState = {\n    loading: false,\n    images: [],\n    error: ''\n}\n\nconst imagesReducer = (state=initialState, action) => {\n    switch(action.type){\n        case THUMP_BEGIN:\n            return {\n                ...state,\n                loading: true\n            }\n\n        case THUMP_UP:\n            const updateImages = [...state.images]\n            const imageIndex = updateImages.findIndex(p => p.imageId.toString() === action.payload.data.thumpUpMutation.imageId.toString())\n            if(imageIndex > -1){\n                updateImages[imageIndex].thumpUp = action.payload.data.thumpUpMutation.thumpUp\n                updateImages[imageIndex].thumpDown = action.payload.data.thumpUpMutation.thumpDown\n            }\n            return{\n                ...state,\n                images: updateImages,\n                loading: false\n\n            }\n\n        case THUMP_DOWN:\n            const updateImagesDown = [...state.images]\n            const imageDownIndex = updateImagesDown.findIndex(p => p.imageId.toString() === action.payload.data.thumpDownMutation.imageId.toString())\n            if(imageDownIndex > -1){\n                updateImagesDown[imageDownIndex].thumpUp = action.payload.data.thumpDownMutation.thumpUp\n                updateImagesDown[imageDownIndex].thumpDown = action.payload.data.thumpDownMutation.thumpDown\n            }\n            return{\n                ...state,\n                images: updateImagesDown,\n                loading: false\n\n            }\n\n\n        case START_FETCH_LIST:\n            return {\n                ...state,\n                loading: true\n            }\n        case SUCCESS_FETCH_LIST:\n            return{\n                ...state,\n                loading: false,\n                images: action.payload.images.data.imageList\n            }\n        case FAIL_FETCH_LIST:\n            return {\n                ...state,\n                loading: false,\n                error: action.payload.error.message\n            }\n        default:\n            return state\n\n    }\n}\n\nexport default imagesReducer"]},"metadata":{},"sourceType":"module"}