{"ast":null,"code":"import _objectSpread from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{useEffect}from'react';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import ImageCard from'../components/ImageCard';import singleImageThunk from'../redux/action/singleImageThunk';import singleImageFetch from'../redux/action/singleImageThunk';import Loading from'../components/Loading';import Header from'../components/HeaderSection';import Error from'../components/Error';import thumpThunk from'../redux/action/thumpThunk';import'../styles/detailsScreen.css';import Footer from'../components/Footer';var DetailsScreen=/*#__PURE__*/function(_React$Component){_inherits(DetailsScreen,_React$Component);function DetailsScreen(){var _getPrototypeOf2;var _this;_classCallCheck(this,DetailsScreen);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(DetailsScreen)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleThumpUp=function(imageId){var token=_this.props.auth.token;if(!token){_this.props.handleLogin();}else{_this.props.dispatch(thumpThunk(imageId,token));}};_this.handleThumpDown=function(imageId){var token=_this.props.auth.token;if(!token){_this.props.handleLogin();}else{_this.props.dispatch(thumpThunk(imageId,token,false));}};return _this;}_createClass(DetailsScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var matchId=this.props.match.params.id;this.props.dispatch(singleImageFetch(matchId));}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.auth.success!==prevProps.auth.success){this.props.handleLogin();}}},{key:\"render\",value:function render(){var singleImage=this.props.singleImage;var _singleImage=_objectSpread({},singleImage),loading=_singleImage.loading,error=_singleImage.error;var _this$props$auth=_objectSpread({},this.props.auth),imageUrl=_this$props$auth.imageUrl;if(loading){return React.createElement(Loading,null);}else if(error){return React.createElement(Error,{error:error});}else{return React.createElement(\"div\",{className:\"details\"},React.createElement(Header,{userImageUrl:imageUrl,handleLogin:this.props.handleLogin}),React.createElement(ImageCard,{image:singleImage,handleLogin:this.props.handleLogin,handleThumpUp:this.handleThumpUp,handleThumpDown:this.handleThumpDown,isDetailsCard:true}),React.createElement(Footer,null));}}}]);return DetailsScreen;}(React.Component);var mapPropToState=function mapPropToState(state){return{singleImage:state.singleImage,auth:state.auth};};export default withRouter(connect(mapPropToState)(DetailsScreen));","map":{"version":3,"sources":["/Users/mayowa/Desktop/gidiShare-update/api/gidiShare-frontend/src/screen/ImageDetails.js"],"names":["React","useEffect","connect","withRouter","ImageCard","singleImageThunk","singleImageFetch","Loading","Header","Error","thumpThunk","Footer","DetailsScreen","handleThumpUp","imageId","token","props","auth","handleLogin","dispatch","handleThumpDown","matchId","match","params","id","prevProps","success","singleImage","loading","error","imageUrl","Component","mapPropToState","state"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router-dom'\nimport ImageCard from '../components/ImageCard'\nimport singleImageThunk from '../redux/action/singleImageThunk'\nimport singleImageFetch from '../redux/action/singleImageThunk'\nimport Loading from '../components/Loading'\nimport Header from '../components/HeaderSection'\nimport Error from '../components/Error'\nimport thumpThunk from '../redux/action/thumpThunk'\nimport '../styles/detailsScreen.css'\nimport Footer from '../components/Footer'\n\nclass DetailsScreen extends React.Component{\n\n    componentDidMount(){\n        const matchId = this.props.match.params.id\n        this.props.dispatch(singleImageFetch(matchId))\n    }\n\n    componentDidUpdate(prevProps){\n        if(this.props.auth.success !== prevProps.auth.success){\n            this.props.handleLogin()\n        }\n    }\n\n\n    handleThumpUp = (imageId) =>{\n        const token = this.props.auth.token\n        if(!token){\n            this.props.handleLogin()\n        }else{\n            this.props.dispatch(thumpThunk(imageId, token))\n        }\n    }\n\n\n    handleThumpDown = (imageId)=>{\n        const token = this.props.auth.token\n        if(!token){\n            this.props.handleLogin()\n        }else{\n            this.props.dispatch(thumpThunk(imageId, token, false))\n        }\n\n    }\n\n\n    render(){\n        const singleImage = this.props.singleImage\n        const {loading, error} = {...singleImage}\n        const {imageUrl} = {...this.props.auth}\n    \n    if(loading){\n        return <Loading />\n    }\n    else if(error){\n        return <Error error={error} />\n    }else{\n    return (\n        <div className='details'>\n            <Header userImageUrl={imageUrl} handleLogin={this.props.handleLogin} />\n                <ImageCard image={singleImage} handleLogin={this.props.handleLogin} \n                    handleThumpUp={this.handleThumpUp} handleThumpDown={this.handleThumpDown} isDetailsCard={true}/>\n            < Footer />\n        </div>\n    )\n    }\n\n}\n}\n\nconst mapPropToState = state =>{\n    return {\n        singleImage: state.singleImage,\n        auth: state.auth\n    }\n}\n\nexport default withRouter(connect(mapPropToState)(DetailsScreen))"]},"metadata":{},"sourceType":"module"}